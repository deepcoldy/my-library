webpackJsonp([1],{"+Mcf":function(t,e){},"5LVj":function(t,e){},HvRj:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("tIUf");var o=n("qCpv"),a=n.n(o),r=(n("lrMw"),n("7YS2")),c=n.n(r),s=(n("y+mr"),n("3JdW")),i=n.n(s),u=(n("XDqQ"),n("Axha")),l=n.n(u),f=(n("f1Vh"),n("ZQVe")),h=n.n(f),d=(n("I4j4"),n("7fQT")),p=(n("gi6D"),n("XPjg")),m=n("7+uW"),v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var b=n("VU/8")({name:"App"},v,!1,function(t){n("+Mcf")},null,null).exports,k=n("/ocq"),_=(n("qONS"),n("UQTY")),g=n.n(_),q=n("mtWM"),w=n.n(q),D={data:function(){return{search:"",result:[]}},components:{Indicator:g.a},created:function(){console.log(this.$route),this.search=this.$route.query.q},watch:{search:function(t){this.$router.replace({path:"/search",query:{q:t}}),t&&this.searchBooks()}},methods:{searchBooks:function(){var t=this;g.a.open(),w.a.get("http://127.0.0.1:7001/search",{params:{q:this.search}}).then(function(e){g.a.close(),console.log(e),t.result=e.data}).catch(function(t){g.a.close(),console.log(t)})},goDetail:function(){console.log(this.router),this.router.push("BookDetail")}}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mt-search",{attrs:{placeholder:"请输入要查询的书名或作者"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[t._l(t.result,function(t,e){return n("mt-cell",{key:"cell"+e,attrs:{to:"/BookDetail?id="+t.id,title:t.name,label:t.writer,"is-link":""}})}),t._v(" "),t.result.length?t._e():n("div",{staticClass:"no-result"},[t._v("暂无查询结果")])],2)],1)},staticRenderFns:[]};var j=n("VU/8")(D,$,!1,function(t){n("imZY")},"data-v-00678bfc",null).exports,x={data:function(){return{id:1,book:{}}},components:{Panel:d.a},methods:{init:function(){var t=this;g.a.open(),w.a.get("http://127.0.0.1:7001/search/detail",{params:{id:this.id}}).then(function(e){var n=e.data;g.a.close(),t.book={name:n.name,writer:n.writer,score:Number(n.score),publisher:n.publisher,price:Number(n.price).toFixed(2)+"元",status:t.status(n.status)}}).catch(function(t){g.a.close(),console.log(t)})},status:function(t){switch(t){case 1:return"在馆";case 0:return"已借出"}}},created:function(){this.id=this.$route.query.id,this.init()}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("van-panel",{attrs:{title:t.book.name,desc:t.book.writer,status:t.book.status}},[n("div",{staticClass:"content"},[n("div",[t._v("出版社："+t._s(t.book.publisher))]),t._v(" "),n("div",[t._v("价格："+t._s(t.book.price))]),t._v(" "),n("van-rate",{model:{value:t.book.score,callback:function(e){t.$set(t.book,"score",e)},expression:"book.score"}})],1)])},staticRenderFns:[]};var U=n("VU/8")(x,y,!1,function(t){n("HvRj")},"data-v-53c62be9",null).exports;m.default.use(k.a);var V=new k.a({routes:[{path:"/search",name:"search",component:j},{path:"/BookDetail",name:"BookDetail",component:U}]});m.default.use(p.a),m.default.use(d.a),m.default.config.productionTip=!1,m.default.component(h.a.name,h.a),m.default.component(l.a.name,l.a),m.default.component(i.a.name,i.a),m.default.component(c.a.name,c.a),m.default.component(a.a.name,a.a),new m.default({el:"#app",router:V,components:{App:b},template:"<App/>"})},ULTG:function(t,e){},XDqQ:function(t,e){},ZmGI:function(t,e){},f1Vh:function(t,e){},f4F5:function(t,e){},imZY:function(t,e){},joTY:function(t,e){},lrMw:function(t,e){},qONS:function(t,e){},tIUf:function(t,e){},"y+mr":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c4cef9fd1f8bd46c0048.js.map